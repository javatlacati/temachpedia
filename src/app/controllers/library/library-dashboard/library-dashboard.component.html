<p-card header="Buscar recurso multimedia">
  <form class="">
    <div class="grid md:grid-cols-3 p-2">
      <span class="p-float-label col-span-2">
        <input
          id="title"
          type="text"
          class="w-11/12"
          pInputText
          [(ngModel)]="searchTitle"
          name="searchTitle"
        />
        <label for="title">Buscar por título</label>
      </span>
      <p-button
        type="button"
        pButton
        label="Buscar"
        (click)="searchByTitle(searchTitle)"
        class=""
      ></p-button>
    </div>
    <div class="grid md:grid-cols-3 p-2">
      <span class="p-float-label col-span-2">
        <input
          id="author"
          type="text"
          class="w-11/12"
          pInputText
          [(ngModel)]="searchAuthor"
          name="searchAuthor"
        />
        <label for="author">Buscar por autor</label>
      </span>
      <p-button
        type="button"
        pButton
        label="Buscar"
        (click)="searchByAuthor(searchAuthor)"
        class="p-mt-2"
      ></p-button>
    </div>
  </form>

  <div *ngIf="books.length > 0" class="pt-2">
    <p-table [value]="books">
      <ng-template pTemplate="header">
        <tr>
          <th>Título</th>
          <th>Autores</th>
          <th>Acciones</th>
        </tr>
      </ng-template>
      <ng-template pTemplate="body" let-book>
        <tr>
          <td>{{ book.title }}</td>
          <td>
            <span *ngFor="let author of book.authors">{{ author.name }}</span>
          </td>
          <td>
            <button
              pButton
              type="button"
              label="Abrir/Solicitar"
              (click)="openOrRequestBook(book.id)"
              class="p-button-success"
            ></button>
          </td>
        </tr>
      </ng-template>
    </p-table>
  </div>

  <div *ngIf="books.length == 0" class="pt-2">
    <p-card header="No se hallaron resultados"></p-card>
  </div>

  <div *ngIf="errorMessage" class="p-mt-4">
    <p-message severity="danger" text="{{ errorMessage }}"></p-message>
  </div>
</p-card>
